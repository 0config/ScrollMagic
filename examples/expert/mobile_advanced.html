<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8"> 
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport"			content="width=500" />
	<title>Mobile Applications - ScrollMagic</title>

	<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,400italic|Josefin+Slab:400,700italic' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="../../css/normalize.css" type="text/css">
	<link rel="stylesheet" href="../../css/examples.css" type="text/css">

	<script type="text/javascript" src="../../js/_dependent/greensock/TweenMax.min.js"></script>
	<script type="text/javascript" src="../../js/_dependent/jquery-1.11.0.min.js"></script>
  	<script type="text/javascript" src="../../js/jquery.scrollmagic.js"></script>
  	<script type="text/javascript" src="../../js/jquery.scrollmagic.debug.js"></script>
</head>
<body>
	<div id="content-wrapper">
		<div id="example-wrapper" class="scrollContainer">
			<div class="scrollContent" style="position: relative;">
				<section id="titlechart">
					<div id="description">
						<h1>Mobile Applications</h1>
						<h2>short description Text blablabla</h2>
					</div>
				</section>
				<section id="demo">
					<div class="spacer s2"></div>
					<div class="spacer s0" id="trigger"></div>
					<div class="animated box2 red center"></div>
					<div class="spacer s7"></div>
				</section>
			</div>
  			<script type="text/javascript" src="../../js/_mobile/modernizr.custom.min.js"></script>
  			<script type="text/javascript" src="../../js/_mobile/iscroll.js"></script>
			<script>
				$(document).ready(function($) {

					var controller = new ScrollMagic({scrollContainer: "#example-wrapper"});

					var scene = new ScrollScene({triggerElement: "#trigger", duration: 300})
									.setTween(TweenMax.to(".animated", 1, {backgroundColor: "green", rotation: 360}))
									.setPin(".animated")
									.addTo(controller);

					// make sure we only do this on mobile:
					if (Modernizr.touch) {
						// using iScroll but deativating -webkit-transform because pin wouldn't work because of a webkit bug: https://code.google.com/p/chromium/issues/detail?id=20574
						var myScroll = new IScroll('#example-wrapper', {scrollX: false, scrollY: true, scrollbars: true, useTransform: false, useTransition: false, probeType: 3});//, {vScrollbar: true, hScroll: false, vScroll: true, bounce: false, useTransition: false, useTransform: false});
						// thanks to iScroll 5 we now have a real onScroll event (with some performance drawbacks)
						myScroll.on("scroll", function () {
							controller.updateAllScenes();
						});

						// add indicators to scrollcontent so they will be moved with it.
						scene.addIndicators(undefined, ".scrollContent");
					} else {
						// show indicators (requires debug extension)
						scene.addIndicators();						
					}

				});
			</script>
		</div>
	</div>
</body>
</html>