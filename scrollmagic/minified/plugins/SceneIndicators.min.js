/* ScrollMagic v2.0.0-alpha | (c) 2014 Jan Paepke (@janpaepke) | license & info: http://janpaepke.github.io/ScrollMagic */
!function(e,o){"function"==typeof define&&define.amd?define(["ScrollScene","jquery"],o):o(e.ScrollScene,e.jQuery)}(this,function(e,o){e.prototype.addIndicators=function(e){var t={parent:void 0,zindex:-1,indent:0,suffix:"",colorTrigger:"blue",colorStart:"green",colorEnd:"red"},n=this,i=o.extend({},t,e),r=this.parent();if(r){var d=r.info(),s=""===i.labelSuffix?"":" "+i.suffix,a=o(o(i.parent).length>0?i.parent:d.isDocument?"body":d.container),c=o("<div></div>").addClass("ScrollSceneIndicators").data("options",i).css({position:"absolute",top:0,left:0,width:"100%",height:"100%","text-align":"center","z-index":i.zindex,"pointer-events":"none","font-size":10}),l=o("<div>trigger</div>").css({position:"fixed",overflow:"visible",color:i.colorTrigger}).addClass("hook");$start=o("<div>start"+s+"</div>").css({position:"absolute",overflow:"visible",color:i.colorStart}).addClass("start"),$end=o("<div>end"+s+"</div>").css({position:"absolute",overflow:"visible",color:i.colorEnd}).addClass("end"),"static"==a.css("position")&&a.css("position","relative"),n.indicators=c.append(l).append($start).append($end).appendTo(a),n.updateIndicators();var p=function(e){"scroll"!=e.type&&"resize"!=e.type||d.isDocument?n.updateIndicators():n.updateIndicators(!0)};n.on("change.debug",p),d.container.addEventListener("scroll",p),d.container.addEventListener("resize",p),d.isDocument||o(window).on("scroll resize",p)}else console.log("ERROR: Please add Scene to controller before adding indicators.");return n},e.prototype.updateIndicators=function(e){var i=this,r=i.parent(),d=i.indicators,s=d.data("options");if(d&&r){var a=r.info(),c=d.children(".hook"),l=d.children(".start"),p=d.children(".end"),f=o(a.container).offset()||{top:0,left:0},u=a.vertical?f.top:f.left,h=a.size*i.triggerHook()+u,g=a.vertical?"v":"h";if(a.isDocument){var b=d.offsetParent().is("body")?o("body").offset():f;d.css({top:-b.top,left:-b.left})}else h-=a.vertical?o(document).scrollTop():o(document).scrollLeft();if(c.attr("data-hook",h).attr("data-direction",g).data("parent",a.container),$otherhook=o('.ScrollSceneIndicators .hook[data-hook="'+h+'"][data-direction='+g+"]:visible").not(c),$otherhook.length>0&&$otherhook.data("parent")==a.container)c.hide();else{c.show();var v=h>.8*a.size;c.css(a.vertical?{top:v?h-c.height()-2:h,left:(a.isDocument?a.container.innerWidth:f.left+a.container.clientWidth-o(document).scrollLeft())-70-s.indent,width:40,height:"auto",padding:"0 8px 2px 8px","border-top":v?"none":"1px solid blue","border-bottom":v?"1px solid blue":"none","border-left":"none","border-right":"none"}:{top:(a.isDocument?a.container.innerHeight:f.top+a.container.clientHeight-o(document).scrollTop())-40-s.indent,left:v?h-c.width()-9:h,width:"auto",height:20,padding:"5px 5px 0 5px","border-top":"none","border-bottom":"none","border-left":v?"none":"1px solid blue","border-right":v?"1px solid blue":"none"})}if(!e){var x=i.triggerPosition(),m=x+i.duration(),w={border:"none",top:"auto",bottom:"auto",left:"auto",right:"auto"};l.css(w),p.css(w),0===i.duration()?p.hide():p.show(),a.vertical?(l.css({top:x,right:71-n(a.container)+s.indent,"border-top":"1px solid green",padding:"0 8px 0 8px"}),p.css({top:m,right:71-n(a.container)+s.indent,"border-top":"1px solid red",padding:"0 8px 0 8px"})):(l.css({left:x,bottom:40-t(a.container)+s.indent,"border-left":"1px solid green",padding:"0 8px 0 8px"}),p.css({left:m,bottom:40-t(a.container)+s.indent,"border-left":"1px solid red",padding:"0 8px 0 8px"}))}}};var t=function(e){return e=e||document,(window.pageYOffset||e.scrollTop||0)-(e.clientTop||0)},n=function(e){return e=e||document,(window.pageXOffset||e.scrollLeft||0)-(e.clientLeft||0)}});