/*! ScrollMagic v2.0.0-alpha | (c) 2014 Jan Paepke (@janpaepke) | license & info: http://janpaepke.github.io/ScrollMagic */
!function(e,r){"function"==typeof define&&define.amd?define(["ScrollMagic"],r):r(e.ScrollMagic||e.jQuery&&e.jQuery.ScrollMagic)}(this,function(e){"use strict";var r="0.85em",t="99999",i=15,o=e._util,n=0;e.Scene.prototype.addIndicators=function(e){var r={name:"",indent:0,parent:void 0,colorStart:"green",colorEnd:"red",colorTrigger:"blue"};n++;var t=this,i=o.extend({},r,e);return t._indicator=new g(t,i),t.on("add.debug",t._indicator.add),t.on("remove.debug",t._indicator.remove),t.on("destroy.debug",t.removeIndicators),t.controller()&&t._indicator.add(),t},e.Scene.prototype.removeIndicators=function(){this._indicator&&(this._indicator.remove(),this.off("add.debug",this._indicator.add),this.off("remove.debug",this._indicator.remove),this.off("destroy.debug",this.removeIndicators),this._indicator=void 0)};var s={start:function(e){var r=document.createElement("div");r.textContent="start",o.css(r,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:e,"border-color":e});var t=document.createElement("div");return o.css(t,{position:"absolute",overflow:"visible",width:0,height:0}),t.appendChild(r),t},end:function(e){var r=document.createElement("div");return r.textContent="end",o.css(r,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:e,"border-color":e}),r},bounds:function(){var e=document.createElement("div");return o.css(e,{position:"absolute",overflow:"visible","white-space":"nowrap","pointer-events":"none","font-size":r}),e.style.zIndex=t,e},trigger:function(e){var i=document.createElement("div");i.textContent="trigger",o.css(i,{position:"relative"});var n=document.createElement("div");o.css(n,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:e,"border-color":e}),n.appendChild(i);var s=document.createElement("div");return o.css(s,{position:"fixed",overflow:"visible","white-space":"nowrap","pointer-events":"none","font-size":r}),s.style.zIndex=t,s.appendChild(n),s}},d=function(e){var r=this,t=e.info(),n=t.container,s=t.isDocument,d=t.vertical,g=function(){r.groups=[],n.addEventListener("resize",u),s||(window.addEventListener("resize",u),window.addEventListener("scroll",u)),n.addEventListener("resize",a),n.addEventListener("scroll",a)},a=function(){r.updateBoundsPositions()},u=function(){r.updateTriggerGroupPositions()};return r.updateBoundsPositions=function(e){for(var t,s,g,a=e?[o.extend({},e.triggerGroup,{members:[e]})]:r.groups,u=a.length,c={},p=d?"left":"top",l=d?"width":"height",f=d?o.get.scrollLeft(n)+o.get.width(n)-i:o.get.scrollTop(n)+o.get.height(n)-i;u--;)for(g=a[u],t=g.members.length,s=o.get[l](g.element.firstChild);t--;)c[p]=f-s,o.css(g.members[t].bounds,c)},r.updateTriggerGroupPositions=function(t){for(var g,a,u,c,p,l=t?[t]:r.groups,f=l.length,m=s?document.body:n,v=o.get.offset(m,!s),h=d?o.get.width(n)-i:o.get.height(n)-i,b=d?"width":"height",G=d?"Y":"X";f--;)g=l[f],a=g.element,u=g.triggerHook*e.info("size"),c=o.get[b](a.firstChild.firstChild),p=u>c?"translate"+G+"(-100%)":"",o.css(a,{top:v.top+(d?u:h-g.members[0].options.indent),left:v.left+(d?h-g.members[0].options.indent:u)}),o.css(a.firstChild.firstChild,{"-ms-transform":p,"-webkit-transform":p,transform:p})},r.updateTriggerGroupLabel=function(e){var t="trigger"+(e.members.length>1?"":" "+e.members[0].options.name),i=e.element.firstChild.firstChild,o=i.textContent!==t;o&&(i.textContent=t,d&&r.updateBoundsPositions())},r.removeListeners=function(){n.removeEventListener("resize",u),s||(window.removeEventListener("resize",u),window.removeEventListener("scroll",u)),n.removeEventListener("resize",a),n.removeEventListener("scroll",a)},g(),r},g=function(e,r){var t,i,g=this,a=s.bounds(),u=s.start(r.colorStart),c=s.end(r.colorEnd),p=r.parent&&o.get.elements(r.parent)[0];r.name=r.name||n,u.firstChild.textContent+=" "+r.name,c.textContent+=" "+r.name,a.appendChild(u),a.appendChild(c),g.options=r,g.bounds=a,g.triggerGroup=void 0,this.add=function(){i=e.controller(),t=i.info("vertical");var r=i.info("isDocument");p||(p=r?document.body:i.info("container")),r||"static"!==o.css(p,"position")||o.css(p,{position:"relative"}),i._indicators?i._indicators instanceof d||i._:i._indicators=new d(i),e.on("change.debug",f),e.on("shift.debug",l),w(),h(),setTimeout(function(){i._indicators.updateBoundsPositions(g)},0),e._},this.remove=function(){if(g.triggerGroup){if(e.off("change.debug",f),e.off("shift.debug",l),g.triggerGroup.members.length>1){var r=g.triggerGroup;r.members.splice(r.members.indexOf(g),1),i._indicators.updateTriggerGroupLabel(r),i._indicators.updateTriggerGroupPositions(r),g.triggerGroup=void 0}else G();v(),0===i._indicators.groups.length&&(i._indicators.removeListeners(),i._indicators=void 0),e._}};var l=function(){h()},f=function(e){"triggerHook"===e.what&&w()},m=function(){var e=i.info("vertical");o.css(u.firstChild,{"border-bottom-width":e?1:0,"border-right-width":e?0:1,bottom:e?-1:r.indent,right:e?r.indent:-1,padding:e?"0 8px":"2px 4px"}),o.css(c,{"border-top-width":e?1:0,"border-left-width":e?0:1,top:e?"100%":"",right:e?r.indent:"",bottom:e?"":r.indent,left:e?"":"100%",padding:e?"0 8px":"2px 4px"}),p.appendChild(a)},v=function(){a.parentNode.removeChild(a)},h=function(){a.parentNode!==p&&m();var r={};r[t?"top":"left"]=e.triggerPosition(),r[t?"height":"width"]=e.duration(),o.css(a,r),o.css(c,{display:e.duration()>0?"":"none"})},b=function(){var n=s.trigger(r.colorTrigger),d={};d[t?"right":"bottom"]=0,d[t?"border-top-width":"border-left-width"]=1,o.css(n.firstChild,d),o.css(n.firstChild.firstChild,{padding:t?"0 8px 3px 8px":"3px 4px"}),document.body.appendChild(n);var a={triggerHook:e.triggerHook(),element:n,members:[g]};i._indicators.groups.push(a),g.triggerGroup=a,i._indicators.updateTriggerGroupLabel(a),i._indicators.updateTriggerGroupPositions(a)},G=function(){i._indicators.groups.splice(i._indicators.groups.indexOf(g.triggerGroup),1),g.triggerGroup.element.parentNode.removeChild(g.triggerGroup.element),g.triggerGroup=void 0},w=function(){var r=e.triggerHook(),t=1e-4;if(!(g.triggerGroup&&Math.abs(g.triggerGroup.triggerHook-r)<t)){for(var o,n=i._indicators.groups,s=n.length;s--;)if(o=n[s],Math.abs(o.triggerHook-r)<t)return g.triggerGroup&&(1===g.triggerGroup.members.length?G():(g.triggerGroup.members.splice(g.triggerGroup.members.indexOf(g),1),i._indicators.updateTriggerGroupLabel(g.triggerGroup),i._indicators.updateTriggerGroupPositions(g.triggerGroup))),o.members.push(g),g.triggerGroup=o,void i._indicators.updateTriggerGroupLabel(o);if(g.triggerGroup){if(1===g.triggerGroup.members.length)return g.triggerGroup.triggerHook=r,void i._indicators.updateTriggerGroupPositions(g.triggerGroup);g.triggerGroup.members.splice(g.triggerGroup.members.indexOf(g),1),i._indicators.updateTriggerGroupLabel(g.triggerGroup),i._indicators.updateTriggerGroupPositions(g.triggerGroup),g.triggerGroup=void 0}b()}}}});